<!doctype html><html lang=fr-FR><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Une porte dérobée dans XZ: la grosse vulnérabilité d'internet | c11e</title><link rel=stylesheet href=/css/style.css></head><body><div id=main><nav class=nav><div class="logo logowhite"><a href=//localhost:1313/ accesskey=h title="c11e (Alt + H)"><img src=//localhost:1313/images/C11Ew.png alt aria-label=logo height=100></a></div><div class="logo logodark"><a href=//localhost:1313/ accesskey=h title="c11e (Alt + H)"><img src=/images/C11Eb.png aria-label=logo height=100></a></div><input name=hamburger-input id=hamburger-input type=checkbox aria-label="Navigation Menu">
<label id=hamburger-menu for=hamburger-input></label><div class=overlay></div><ul id=menu><li><a href=//localhost:1313/ title=Home><span>Home</span></a></li><li><a href=https://cyrilvallee.com/livres/ title="Mes livres"><span>Mes livres</span>
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=//localhost:1313/a-propos/ title="À propos"><span>À propos</span></a></li><li><a href=//localhost:1313/lectures/ title=Lectures><span>Lectures</span></a></li><li><a href=//localhost:1313/index.xml title=RSS><span>RSS</span></a></li></ul></nav><page-content><main><div class=flex><div class=w100><div class="meta article-meta w20"><span class=date>1 avr. 2024</span><div class=genre>blog</div><span class=data>4 min&nbsp;·&nbsp;812 mots</span></div><div class="entry w80"><main><h1><span class=title>Une porte dérobée dans XZ: la grosse vulnérabilité d&rsquo;internet</span></h1></div></div></div><div class="post-content entry w80"><div class=measure-wide><p>Week-end de Pâques 2024. Un événement qui passe inaperçu aux yeux de la plupart des gens secoue la communauté #infosec (les experts en sécurité informatique). Un accès caché a (presque) été ajouté à un outil qui gère les connexions sécurisées sur la plupart des serveurs de sites web ou applications.</p><p>Les conséquences auraient pu être dramatiques : Internet n’aurait plus été sécurisé — impossible de faire confiance à un site web, que ce soit votre banque ou l’accès à vos emails. Or, quasi <em>toute notre société</em> est passée au numérique.</p><hr><p><em>Note : cet article est très largement inspiré du <em>toot</em> de Rémy sur Mastodon (<a href=https://piaille.fr/@rusty/112190942173039817)>https://piaille.fr/@rusty/112190942173039817)</a>, qu’on doit remercier pour son excellent travail de vulgarisation.</em></p><hr><h3 id=la-sécurité-dinternet-a-failli-tomber-comment-est-ce-même-possible>La sécurité d’Internet a failli tomber. Comment est-ce même possible ?</h3><p>Au début des années 2000, Lasse Collin commence un « projet bénévole, de loisir », nommé XZ. Il s’agit d’une librairie de compression de données qui est utilisée dans un projet bien plus important, openSSH. Ce programme est utilisé comme outil d’accès sécurisé et crypté pour administrer les serveurs un peu partout sur Internet. Il est quasiment universel.
Dans un email de juin 2022, Collin explique qu’il n’a plus l’énergie pour s’occuper de XZ, à cause de « problèmes durables de santé mentale ».</p><ul><li><a href=https://www.mail-archive.com/xz-devel@tukaani.org/msg00567.html>https://www.mail-archive.com/xz-devel@tukaani.org/msg00567.html</a>.</li></ul><p>Il cherche quelqu’un pour reprendre la maintenance de son projet.</p><p>Cette librairie importante est critique pour la sécurité d’Internet, et sa maintenance ne tient sur les épaules que d’un seul bénévole. On est en 2022, et cette personne est en train de craquer.</p><p><strong>C’est là tout le symbole de l’open source : sous-financé, déconsidéré par le tout public et pourtant utilisé partout.</strong></p><p><img src=https://imgs.xkcd.com/comics/dependency_2x.png alt>
<em>Dependency</em> par <a href=https://xkcd.com/2347/>XKCD</a></p><p>C’est alors qu’une personne nommée « Jia Tan » commence à proposer des modifications au projet XZ. Il n’est pas connu, sort du bois pour ainsi dire et devient de plus en plus important pour le projet XZ, jusqu’à devenir le mainteneur principal.</p><p>Le 7 janvier 2023, Jia Tan intègre lui-même son code dans XZ. Jusque là, c’est Lasse Collin qui vérifiait puis intégrait les modifications. À partir de ce moment, Jia Tan peut faire ce qu’il veut sans vérification.</p><p>Le 20 mars 2023, il modifie le mail de contact du projet pour mettre le sien à la place de celui de Lasse Collin.</p><ul><li><a href=https://github.com/JiaT75/oss-fuzz/com>https://github.com/JiaT75/oss-fuzz/com</a>.</li></ul><p>Tout est en place. Comme un projet de longue haleine (pas loin de deux ans), patiemment et discrètement porté à maturation jusqu’à ce que, en février 2024, Jia Tan ajoute le code de la <em>backdoor</em> dans XZ. Il envoie ensuite des messages aux mainteneurs des différentes distributions Linux pour leur demander d’intégrer la nouvelle version qui contient l’accès caché.</p><h3 id=un-grain-de-sable-un-grain-de-hasard>Un grain de sable, un grain de hasard</h3><p>29 mars 2024. Andres Freund est développeur chez Microsoft. Alors qu’il fait des tests sur un projet sur lequel il travaille (Postgres), il découvre que depuis qu’il a fait des mises à jour, la connexion sécurisée qu’il utilise (ssh) est <em>plus lente de 500 ms</em>.<br>En remontant le fil pour comprendre ce qui se passe, il découvre que la petite librairie XZ, utilisée par ssh pour compresser les données, contient un accès caché. Il note son compte-rendu dans un forum et annonce sa trouvaille sur mastodon :</p><ul><li><a href=https://mastodon.social/@AndresFreundTec/112180083704606941>https://mastodon.social/@AndresFreundTec/112180083704606941</a></li></ul><p>Plus de deux ans de patience pour développer un plan qui cible une des infrastructures de sécurité les plus importantes d’Internet. Et qui n’a été découvert que <em>par chance</em>.</p><p>Le reste de l’histoire est encore à comprendre. Le compte GitHub de Jia Tan est suspendu, et les experts vont enquêter pour comprendre comment cela a été possible, et qui est cette personne. Il est possible que ce plan de grande ampleur ait été fomenté par un grand groupe de <em>hackers</em>, ou même un gouvernement.<br>Impossible de le savoir pour l&rsquo;instant.</p><h3 id=on-peut-dire-que-ce-nest-pas-passé-loin>On peut dire que ce n’est pas passé loin</h3><p>Le <em>comics</em> de XKCD résume vraiment bien la situation. La plupart des outils que les infrastructures d&rsquo;Internet utilisent sont issus de petits projets bénévoles, comme celui de M. Collin.</p><p>Heureusement, ils sont <em>open source</em>, ce qui permet de les auditer pour comprendre leur fonctionnement, éliminer les <em>bugs</em> et améliorer les programmes. D&rsquo;ailleurs, la <em>backdoor</em> dans XZ n&rsquo;était pas dans le code de la librairie, mais dans le <em>packaging</em> destiné aux distributions, sans quoi il est possible qu&rsquo;elle
aurait été découverte plus tôt.</p><p>Mais cet incident montre vraiment à la fois l&rsquo;importance de ce modèle (le développement <em>libre</em>) et sa faiblesse. Il faut reconnaitre politiquement le côté essentiel de ces outils et les protéger, en assistant les développeurs qui font cela sur leur temps libre, par exemple.</p><hr><p>Merci de me lire ! Pour réagir à cet article, poursuivons la discussion <a href=https://tooting.ch/@arveed/>sur Mastodon</a>.</p><p>Si vous souhaitez me suivre sans dépendre des réseaux sociaux, vous pouvez vous abonner à <a href=https://www.cyrilvallee.com/#/portal/signup>ma newsletter</a> (sur mon site cyrilvallee.com) ou simplement au <a href=https://arveed.com/index.xml>flux RSS</a> de ce site.</p><hr><p>À lire aussi sur ce sujet : <a href=https://boehs.org/node/everything-i-know-about-the-xz-backdoor>https://boehs.org/node/everything-i-know-about-the-xz-backdoor</a></p></div></div><hr><ul class=post-tags><li><a href=//localhost:1313/tags/security/>Security</a></li><li><a href=//localhost:1313/tags/open-source/>Open Source</a></li><li><a href=//localhost:1313/tags/it/>It</a></li></ul><div class=date-single>1.04.2024</div><div style=font-size:small;font-family:montserrat,helvetica,arial,sans-serif;margin-top:-1em>Permalink:
<a href=/articles/xz-incident/>//localhost:1313//articles/xz-incident/</a></div></div></main></page-content></main><footer><p><a href=/categories/>categories</a> | <a href=/tags/>tags</a></p><a href=/>c11e</a> - 2025 | <a href=https://github.com/crlvll>Github</a> | <a href=https://tooting.ch/@arveed>Mastodon</a> | <a href=https://bsky.app/profile/arveed.bsky.social>Bluesky</a> | <a href=/archives/>Archives</a></footer></body></html>